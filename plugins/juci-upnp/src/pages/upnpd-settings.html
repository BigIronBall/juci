<juci-layout-with-sidebar>
	<div ng-controller="UPNPMainPage">
		<juci-config-heading>{{ 'UPNP Settings' | translate }}</juci-config-heading>
		<juci-config-info>{{ 'internet.services.upnp.info' | translate }}</juci-config-info>
		<juci-config-section>
			<juci-config-lines>
				<juci-config-line title="{{'Automatically Start Service At Bootup'|translate}}" help="{{'Enable upnp daemon at boot time'|translate}}">
					<switch ng-model="service.enabled" ng-change="onEnableDisableService()" class="green"></switch>
				</juci-config-line>
				<juci-config-line title="{{'Start / Stop Service'|translate}}" ng-show="upnp" help="{{'Start/stop upnp daemon (make sure you have WAN connection!)'|translate}}">
					<button class="btn btn-default" ng-click="onStartStopService()"><i class="fa" ng-class="{'fa-play':!service.running,'fa-stop':service.running}"></i></button>
				</juci-config-line>
				<juci-config-line title="{{'Enable UPNP'|translate}}" ng-show="upnp" help="{{'Enable UPNP protocol'|translate}}">
					<switch ng-model="upnp.enable_upnp.value" class="green"></switch>
				</juci-config-line>
				<juci-config-line title="{{'Enable NAT-PMP'|translate}}" ng-show="upnp" help="{{'Enable NAT-PMP protocol'|translate}}">
					<switch ng-model="upnp.enable_natpmp.value" class="green"></switch>
				</juci-config-line>
			</juci-config-lines>
			<h2 translate>UPnP Open Ports</h2>
			<span ng-show="!upnpOpenPorts.length" translate>No UPnP ports currently in use</span>
			<table class="table" ng-show="upnpOpenPorts.length">
				<thead>
					<th>#</th>
					<th translate>Packets cnt.</th>
					<th translate>Bytes</th>
					<th translate>Target</th>
					<th translate>Proto</th>
					<th translate>Opt</th>
					<th translate>Source</th>
					<th translate>Dest.</th>
				</thead>
				<tr ng-repeat="port in upnpOpenPorts">
					<td>{{port.num}}</td>
					<td>{{port.packets}}</td>
					<td>{{port.bytes}}</td>
					<td>{{port.target}}</td>
					<td>{{port.proto}}</td>
					<td>{{port.opt}}</td>
					<td>{{port.src}}</td>
					<td>{{port.dst}}</td>
				</tr>
			</table>
		</juci-config-section>
		<juci-config-apply></juci-config-apply>
	</div>
</juci-layout-with-sidebar>
